
---

# 交互说明文档

**项目名称： 恋爱ing手势互动**

---

## 1. 交互设计概述

本项目为一套基于 **手势识别驱动的沉浸式视觉交互系统**。
系统通过实时识别用户手势，在无任何物理控制器的情况下，动态触发：

* 粒子形态变化
* 背景环境切换
* 剧情化动画（汽车进场）
* 情绪化动态反馈（呼吸、缩放、跟随）

整体交互遵循 **“动作即叙事”** 的设计理念。

---

## 2. 整体交互流程总览

```
用户进入页面
   ↓
Three.js 场景初始化
   ↓
粒子 / 银河 / 雪花 / 标题 / 汽车系统初始化
   ↓
摄像头与手势模型加载
   ↓
实时手势识别循环
   ↓
手势判定（含触发源）
   ↓
交互状态切换
   ↓
视觉系统 & 动效系统联动反馈（持续）
```

---

## 3. 页面初始化交互流程

### 3.1 初始状态设定

**系统默认状态**

* 初始手势状态：`BOBO`
* 粒子形态：BOBO 图形
* 标题：`恋爱ing`（延迟显示）
* 背景：雪花 + 星空
* 银河星云：隐藏
* 汽车：隐藏

**设计目的**

* 页面一进入即具备情绪与主题
* 不依赖用户立即交互

---

## 4. UI 控件交互流程

### 4.1 摄像头显示控制

**交互方式**

* 点击按钮：`SHOW CAMERA / HIDE CAMERA`

**交互逻辑**

* 控制仅影响摄像头画面显示
* 手势识别始终在后台运行
* 不影响任何视觉交互逻辑

---

## 5. 手势识别与判定流程

### 5.1 手势识别机制

* 单手识别
* 每帧识别 21 个关键点
* 判断各手指是否“伸直”
* 结合拇指伸展状态进行组合判断

---

### 5.2 手势 → 状态映射表

| 手势状态    | 判定逻辑          | 触发视觉           |
| ------- | ------------- | -------------- |
| LOVE    | 拇指 + 食指 + 小指  | LOVE 粒子 + 距离缩放 |
| L       | 拇指 + 食指       | L 字母 + 银河      |
| O       | 握拳            | O 字母           |
| V       | 食指 + 中指       | V 字母 + 银河      |
| E       | 中指 + 无名指 + 小指 | E 字母 + 银河      |
| BOBO    | 仅食指 / 仅拇指     | BOBO 形象        |
| SCATTER | 四指及以上         | 粒子散射           |

---

## 6. BOBO 模式的分支交互逻辑（重点）

### 6.1 BOBO 的两种触发源

| 触发源          | 手势        | 行为差异           |
| ------------ | --------- | -------------- |
| init / thumb | 初始 / 竖大拇指 | BOBO 居中        |
| index        | 仅食指       | BOBO 跟随 + 汽车剧情 |

---

### 6.2 BOBO（拇指 / 初始）交互流程

**触发**

* 页面初始
* 或竖起大拇指

**系统反馈**

1. 粒子组成 BOBO 图像
2. 显示雪花与背景星空
3. 粒子组固定居中
4. `恋爱ing` 标题 **0.5 秒后显示**
5. 无汽车动画

---

### 6.3 BOBO（食指）交互流程（剧情模式）

**触发**

* 仅食指伸直

**系统反馈**

1. BOBO 形象生成
2. 粒子组与手部位置实时跟随
3. 进入汽车剧情计时

---

## 7. 汽车剧情交互流程（食指 BOBO 专属）

### 7.1 汽车进场时间线

```
0 – 1.0s   ：不可见（等待）
1.0 – 到达：车辆驶入
到达后 0–1s：静止停留
1.0–1.5s  ：蓄力（后退 + 抬头 + 震动）
1.5s 后   ：加速弹射离场
```

### 7.2 剧情设计目的

* 将“手势”转化为“叙事触发”
* 增强互动惊喜感
* 强化品牌 / 情绪记忆点

---

## 8. LOVE 模式交互流程（核心情绪交互）

### 8.1 LOVE 手势触发

**手势**

* 拇指 + 食指 + 小指
* 中指、无名指弯曲

---

### 8.2 LOVE 距离缩放交互（重点）

**交互逻辑**

* 根据 **手掌大小（近似距离）** 动态计算缩放
* 手越近 → LOVE 越小
* 手越远 → LOVE 越大
* 保证最小宽度 ≥ 屏幕宽度 1/3

**视觉反馈**

* LOVE 粒子呼吸 = 距离映射结果
* 缩放变化具备平滑插值

---

### 8.3 LOVE 模式视觉表现

* 粒子组成 `LOVE`
* 部分粒子转为星空背景
* 雪花关闭
* 银河星云关闭
* 强烈情绪聚焦

---

## 9. 银河星云交互流程（L / O / V / E）

### 9.1 触发条件

* 当前手势为：`L / O / V / E`

### 9.2 系统反馈

1. 显示超大规模银河星云（20 万粒子）
2. 银河系统缓慢自转
3. 粒子文字与星云形成前后景层次

---

## 10. 标题系统交互流程

### 10.1 标题显示规则

| 条件               | 行为 |
| ---------------- | -- |
| BOBO 状态          | 显示 |
| 进入 BOBO 后 < 0.5s | 隐藏 |
| 其他手势             | 隐藏 |

### 10.2 动效说明

* 粒子文字：`恋爱ing`
* 轻微上下浮动
* 固定在画面上方

---

## 11. 持续交互与平滑机制

### 11.1 插值机制

* 粒子位置插值
* 粒子颜色插值
* 缩放插值
* 位移插值

### 11.2 状态保持原则

* 手势未变化 → 状态持续
* 手势变化 → 一次性重构目标形态

---
