
---

# 交互流程说明文档

**名称：OAOA手势互动**

---

## 1. 交互设计目标

本系统通过 **摄像头 + 手势识别 + 实时粒子渲染** 的方式，实现“**人与视觉内容的自然互动**”，用户无需任何物理控制器，仅通过手部动作即可触发不同的视觉形态与情绪表达。

核心目标：

* 降低交互门槛（无按钮、无学习成本）
* 强化沉浸感与参与感
* 通过手势建立“情绪 → 视觉”的直观映射

---

## 2. 整体交互流程概览

```
用户进入页面
   ↓
系统加载视觉与识别模型
   ↓
请求摄像头权限
   ↓
实时识别手势
   ↓
手势 → 状态判定
   ↓
粒子形态 / 动效 / 背景切换
   ↓
持续实时反馈（循环）
```

---

## 3. 页面初始化交互流程

### 3.1 页面加载阶段

**触发条件**

* 用户打开页面

**系统行为**

1. 初始化 Three.js 场景
2. 创建粒子系统、背景星空与雪花系统
3. 显示加载提示文本

   ```
   LOADING VISION ENGINE...
   ```

**用户感知**

* 页面中央显示加载文字
* 背景为黑色，无交互反馈

---

### 3.2 摄像头与识别模型初始化

**触发条件**

* 页面加载完成后自动执行

**系统行为**

1. 请求浏览器摄像头权限
2. 加载 HandLandmarker 手势识别模型
3. 摄像头视频流成功后：

   * 隐藏加载提示
   * 启动手势识别循环

**异常处理**

* 若摄像头被拒绝或初始化失败：

  * 加载文字变更为 `CAMERA ERROR`
  * 页面不进入交互状态

---

## 4. UI 控件交互流程

### 4.1 摄像头显示/隐藏交互

**交互方式**

* 点击按钮：`HIDE CAMERA / SHOW CAMERA`

**流程说明**

1. 用户点击按钮
2. 系统切换摄像头容器显示状态
3. 按钮文案同步变化

**重要说明**

* 仅影响 **摄像头画面显示**
* **不影响后台手势识别**
* 即使隐藏摄像头，交互依然有效

---

## 5. 核心手势交互流程

### 5.1 手势识别循环逻辑

**运行方式**

* 基于 `requestAnimationFrame` 实时循环
* 每帧执行一次手势检测

**流程**

1. 从摄像头视频中提取当前帧
2. 识别单手关键点（21 个）
3. 判断各手指是否伸展
4. 组合判断当前手势类型
5. 与上一次手势对比
6. 若发生变化 → 触发视觉状态更新

---

## 6. 手势 → 状态映射流程

### 6.1 手势判定规则

| 判定优先级 | 手势状态    | 识别条件          |
| ----- | ------- | ------------- |
| 高     | OAOA    | 拇指 + 食指 + 小指  |
| 中     | SCATTER | 四指及以上伸出       |
| 中     | 3       | 食指 + 中指 + 无名指 |
| 中     | 2       | 食指 + 中指       |
| 中     | 1       | 食指            |
| 低     | BOBO    | 五指全部收拢        |

> 系统仅在**手势发生变化时**触发一次形态更新，避免重复计算。

---

## 7. 视觉反馈交互流程

### 7.1 BOBO 模式交互流程（握拳）

**触发**

* 用户握拳

**系统反馈**

1. 粒子重组为 BOBO 角色
2. 启用雪花特效
3. 启用背景银河星空
4. 粒子组位置与手部位置绑定

**增强交互**

* 手向左 / 右 / 上 / 下移动
  → BOBO 整体跟随移动（带插值平滑）

---

### 7.2 OAOA 模式交互流程（“我爱你”手势）

**触发**

* 用户做出 “我爱你” 手势

**系统反馈**

1. 粒子重组为 `OAOA` 字样
2. 部分粒子转为背景星点
3. 启用明显的心跳式呼吸动画
4. 关闭雪花特效，仅保留星空

**视觉特征**

* 强节奏感
* 情绪化表达最强

---

### 7.3 SCATTER 模式交互流程（张开五指）

**触发**

* 用户张开四指及以上

**系统反馈**

1. 粒子向空间随机散射
2. 大部分粒子保持主色
3. 少部分粒子变为高饱和彩色
4. 无背景雪花，仅保留基础环境

---

### 7.4 数字模式交互流程（1 / 2 / 3）

**触发**

* 用户做出对应数字手势

**系统反馈**

1. 粒子排列成对应数字
2. 使用统一金色粒子
3. 轻微漂浮与呼吸动画

---

## 8. 连续交互与状态保持机制

### 8.1 状态保持

* 当前手势状态持续存在
* 无新手势变化时：

  * 粒子持续呼吸、漂浮
  * 背景与特效保持当前模式

### 8.2 平滑过渡机制

* 所有形态变化均使用插值算法
* 避免瞬间跳变
* 提升整体“生命感”

---

## 9. 交互流程设计特点总结

* **无界面学习成本**：即做即反馈
* **低干扰 UI**：控制元素极少
* **实时响应**：高帧率、低延迟
* **情绪驱动视觉**：动作即表达

---

如果你需要，我可以继续帮你输出：

* ✅ **交互流程图（文字版 / 可直接画图）**
* ✅ **交互状态机说明（偏技术）**
* ✅ **面向甲方的「互动玩法说明」版本**

你接下来更想往**技术交付**还是**方案汇报**方向深化？
